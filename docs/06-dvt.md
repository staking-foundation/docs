---
title: Distributed Validation
description: Diva's unique DVT is deeply integrated with its Liquid Staking, offering massive improvements in performance and resiliency
slug: dvt
---

# Distributed Validation

Diva uses Distributed Validation Technology (DVT) to operate [Ethereum validators](glossary#validator) in a fully distributed manner.

:::info Want the full details?
üëâ [Watch Prada's deep-diva about Diva's DVT](https://www.youtube.com/watch?v=IHgMk15g2D4&ab_channel=DivaStaking) at Dappcon 2023 (20 min)
:::

![DVT splitting keys](img/dvt-1.png)

Diva's Smart Contract extends Ethereum, wrapping the Consensus Layer Deposit Contract to provide new functionalities:

- Liquid Stakers deposit ETH to receive divETH to generate [Staking Rewards](staking-rewards).
- Liquid Stakers don't need to run nodes. Operators run nodes.
- Operators use **DVT Key Shares** instead of Ethereum validator keys.
- Each validator is run by 16 DVT Key Shares.
- Operators must **lock [1 divETH collateral](glossary#collateral) per [Key Share](glossary#key-share)** instead of Ethereum's 32Œû per validator.
- Operators generate additional [divETH Operator Rewards](economics) for the Key Shares they operate.



### Key Share Creation & Distribution

The Diva Smart Contract receives ETH deposits from Liquid Stakers. Every time there's 32Œû available, it deposits them to the Ethereum Consensus Layer to form a new [validator](glossary#validator), which is operated by 16 unique [Key Shares](glossary#key-share) to generate [Staking Rewards](staking-rewards).

Key Shares are created using Distributed Key Generation (DKG). This allows the Operator peer-to-peer network to split validator keys into Key Shares operated by separate nodes using ‚ÄúBoneh‚ÄìLynn‚ÄìShacham‚Äù BLS threshold signatures.

Key shares are generated by the Operator network with state-of-the-art Multi-Party Computation (MPC) so private keys never come together, eliminating single points of failure. This technology is used by custodians like Fireblocks to safely operate wallets.

Operators receive Key Shares to new validators in a stochastic but fair process which ensures a uniform distribution of duties across the network. This is crucial to prevent clusterization and Sybil attacks.

<div style={{textAlign: 'center'}}>

![DVT architecture](img/dvt-2.png)
</div>


### Running Validators using Key Shares

The Ethereum Consensus Layer requires [validators](glossary#validator) to fulfill validation duties every few minutes, which requires signing validation duties.

Diva Operators connect via a P2P network, performing signatures independently without the need to interact with the Diva Smart Contract.

Whenever a validator is required to sign, Operators holding its different [Key Shares](glossary#key-share) coordinate through the P2P network to sign the attestation duties.

Once 11 out of 16 Key Shares (2/3rds) have signed, the validation duty is fulfilled by sending the message to the network.

This continues until the validator is shut down by requesting a withdrawal to recover its ETH.

Diva provides native mechanisms to eject bad actors or regenerate Key Shares that have been lost, allowing it to recover full liveliness.

### How does Diva's DVT compare to SSV and Obol?

Diva is similar to Obol and SSV in that its DVT provides fault tolerance and consensus mechanisms. This prevents single Operators from causing damage, while enabling uninterrupted operation even with some nodes offline.

Diva uses its own DVT implementation, which is different and independent from the ones of Obol and SSV.

The main difference is that Diva provides integrated Liquid Staking + DVT in one single trustless and permissionless system.

The main differences are:

1. **Diva's DVT is deeply integrated with its [Liquid Staking](lst)**, while SSV and Obol provide modular middlewares to distribute signatures.
2. Diva provides an **incentives and penalties system for Operators**, while Obol and SSV leave that up to the system integrators using them.
3. Diva is one **fully integrated system** extending Ethereum, while Obol and SSV are lego blocks intended to be integrated in staking systems.
4. Diva is **trustless** as there are no trusted committees, multisigs, while others rely on external parties to handle some functionalities.
5. Diva provides **[collateral guarantees from Operators](glossary#collateral)**, where neither Obol or SSV provide economic systems to protect stakers.
6. Diva provides **mechanisms to eject bad actors** automatically.
7. Diva uses a rotational nondeterministic consensus with **2x lower latency** than classic DVT, which requires 2 round-trips.
8. Diva is **fully permissionless** and doesn't use whitelists or any reputational factors in its design.


## Key Benefits

Diva's DVT translates into better performance with less risks, allowing it to operate a network of permissionless and trustless nodes.

This has very real benefits:

1. **Lower risk offline penalties**, as its DVT delivers up to 500x better uptime by allowing multiple nodes to go offline without issues.
2. **Lower risk of lost keys**, as Key Shares are both disposable and can be regenerated dynamically.
3. **Lower risk of slashing**, as any malicious action would require 2/3rd of Key Shares to collude, and this would be punished by confiscating their collateral.
4. **Lower risk of MEV stealing**
5. **Better economic conditions** for both Liquid Stakers as well as Operators.
6. **Optimized for low latency**, improving [Staking Rewards](staking-rewards).
6. **Fully trustless**: Stake through Diva without needing to trust any of its participants.
7. **Permissionless**: Run nodes for Diva without requesting permission from anyone.

### DVT modeling

The benefit of Diva's DVT becomes clear here. 

Consider a set of nodes with 5% downtime each ‚Äì which would be unacceptabe by today's standards.

However, when incorporated into a Diva committee, the resulting downtime would be *less than 0.01%*! This is a huge improvement compared to the typical single-node operator, showcasing the resilience and reliability of the DVT system.

**Diva's DVT turns a set of 16 nodes with 95% uptime into a Distributed Validator with 99.99% uptime**

![DVT architecture](img/dvt-uptime-improvement.png)

Thanks to its fault tolerance, consensus mechanisms, and integrated incentive systems, Diva's DVT system offers a robust and reliable option for trustless staking.

## Learn more

The explanation above is very high level. Watch this 20 min walk for a deeper dive:

<iframe width="560" height="315" src="https://www.youtube.com/embed/IHgMk15g2D4?si=0nWrjKLDsAKQ8CkR" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

üëâ [Read the Ethereum Foundation's explainer on DVT](https://ethereum.org/en/staking/dvt/), describing the general mechanics and advantages of DVT.
